<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport"
            content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content />
        <meta name="author" content />
        <title>Class DValidation - uim framework</title>
        <link rel="icon" type="image/x-icon"
            href="https://uimsolutions.github.io/uim/assets/favicon.ico" />
        <link href="https://uimsolutions.github.io/uim/css/tabler.min.css" rel="stylesheet" />
    </head>
    <body>
        <div class="page">
            <header class="navbar navbar-expand-md d-print-none">
    <div class="container-xl">
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
            data-bs-target="#navbar-menu" aria-controls="navbar-menu"
            aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div
            class="navbar-brand navbar-brand-autodark d-none-navbar-horizontal pe-0 pe-md-3">
            <a href=".">UIM FRAMEWORK
            </a>
        </div>
        <div class="navbar-nav flex-row order-md-last">
            <div class="nav-item d-none d-md-flex me-3">
                <div class="btn-list">
                    <a href="https://github.com/UIMSolutions/uim" class="btn"
                        target="_blank" rel="noreferrer">
                        Source code
                    </a>
                    <a href="https://www.patreon.com/sicherheitsschmiede/posts"
                        class="btn"
                        target="_blank" rel="noreferrer">
                        Sponsor
                    </a>
                </div>
            </div>
        </div>
    </div>
</header>
<header class="navbar-expand-md">
    <div class="collapse navbar-collapse" id="navbar-menu">
        <div class="navbar">
            <div class="container-xl">
                <div class="row flex-fill align-items-center">
                    <div class="col">
                        <ul class="navbar-nav">
                            <li class="nav-item">
                                <a class="nav-link" href="https://uimsolutions.github.io/uim">
                                    Home
                                </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link"
                                    href="https://uimsolutions.github.io/uim/api/interfaces">Interfaces</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link"
                                    href="https://uimsolutions.github.io/uim//api/classes">Classes</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link"
                                    href="https://uimsolutions.github.io/uim/api/libraries">Libraries</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link"
                                    href="https://uimsolutions.github.io/uim/api/packages">Packages</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>
            <div class="page-wrapper">
                <div class="page-header">
                    <div class="row align-items-center mw-100">
                        <div class="col">
                            <div class="container-xl">
                                <div class="page-pretitle">
                                    Class
                                </div>
                                <h2 class="page-title">
                                    DValidation
                                </h2>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="page-body">
                    <div class="col">
                        <div class="container-xl">
                            <table><tr><td>origin:C:\Users\ONS\PROJECTS2023\uim\validations\uim\validations\classes\validations\validation.d</td></tr><tr><td>isFinal:false</td></tr><tr><td>package:uim.validations.classes.validations</td></tr><tr><td>visibility:public</td></tr><tr><td>name:DValidation</td></tr><tr><td>isAbstract:false</td></tr><tr><td>namespace:uim.validations.classes.validations.validation</td></tr><tr><td>header:class DValidation</td></tr><tr><td>methods:["// Default locale","// Same as originalEntities.","// Not same as comparison originalEntities.","// Equal to comparison originalEntities.","// Not equal to comparison originalEntities.","// Greater than comparison originalEntities.","// Greater than or equal to comparison originalEntities.","// Less than comparison originalEntities.","// Less than or equal to comparison originalEntities.","// Datetime ISO8601 format","/* protected const string[] COMPARE_STRING = [","// Some complex patterns needed in multiple places","/**","* Holds an array of errors messages set in this class.","* These are used for debugging purposes","*/","/**","* Checks that a string contains something other than whitespace","* Returns true if string contains something other than whitespace","*/","/* if (value.isEmpty && !value.isBooleanLike && !isNumeric(value))","} */","/*        return _check(value, \"/[^\\s]+/m\");","*/","}","/**","* Checks that a string contains only integer or letters.","*","* This method\"s definition of letters and integers includes unicode characters.","* Use `asciiAlphaNumeric()` if you want to exclude unicode.","*/","}","//        return _check(value, \"/^[\\pLl}\\pLm}\\pLo}\\pLt}\\pLu}\\pNd}]+my/Du\");","}","/**","* Checks that a doesn\"t contain any alpha numeric characters","*","* This method\"s definition of letters and integers includes unicode characters.","* Use `notAsciiAlphaNumeric()` if you want to exclude ascii only.","*/","}","// Checks that a string contains only ascii integer or letters.","}","// Checks that a doesn\"t contain any non-ascii alpha numeric characters","/* return !asciiAlphaNumeric(value); */","}","/**","* Checks that a string length is within specified range.","* Spaces are included in the character count.","*/","}","}","/**","* Validation of credit card numbers.","* Returns true if creditcardNumber is in the proper credit card format.","*/","}","/*        auto myCheckValue = /* (string) * /creditcardNumber.replace([\"-\", \" \"], \"\");","/* if (mb_strlen(myCheckValue) < 13)","} * /","} */","/* myCards[\"all\"] =","/* Generic.Files.LineLength * / */","/*        if (checkType.isArray)","}","}","} else if (checkType == \"all\")","}","}","} else","}","}","*/","}","// Used to check the count of a given value of type array or Countable.","/* return !value.isArray/* && !cast(DCountable)value * /","}","// Used to compare 2 numeric values.","/* if (","} */","/* try  */","/* return match (validationOperator)","}; */","/* } catch (UnhandledMatchError)","} */","}","/**","* Compare one field to another.","*","* If both fields have exactly the same value this method will return true.","*/","/* return compareFields(value, fieldName, COMPARE_SAME, mycontext); */","}","/**","* Compare one field to another.","*","* Return true if the comparison matches the expected result.","*/","/* if (context.isNull(\"data\") || !hasKey(fieldName, context[\"data\"]))","} */","// TODO return comparison(value, originalEntities, context[\"data\"][fieldName]);","}","// Used when a custom regular expression is needed.","}","/* if (regex.isNull)","} */","/* return _check(value, regex); */","}","/**","* Date validation, determines if the string passed is a valid date.","* keys that expect full month, day and year will validate leap years.","*","* Years are valid from 0001 to 2999.","*","* ### Formats:","*","* - `dmy` 27-12-2006 or 27-12-06 separators can be a space, period, dash, forward slash","* - `mdy` 12-27-2006 or 12-27-06 separators can be a space, period, dash, forward slash","* - `ymd` 2006-12-27 or 06-12-27 separators can be a space, period, dash, forward slash","* - `dMy` 27 December 2006 or 27 Dec 2006","* - `Mdy` December 27, 2006 or Dec 27, 2006 comma is optional","* - `My` December 2006 or Dec 2006","* - `my` 12/2006 or 12/06 separators can be a space, period, dash, forward slash","* - `ym` 2006/12 or 06/12 separators can be a space, period, dash, forward slash","* - `y` 2006 just the year without any separators","*/","}","/*        if (cast(DChronosDate)value || cast(IDateTime)value)","} */","}","}","// Don\"t allow 0000, but 0001-2999 are ok.","// 2 or 4 digit leap year sub-pattern","// 4 digit leap year sub-pattern","/*        auto regex[\"dmy\"] = \"%^(?:(?:31(\\\\/|-|\\\\.|\\\\x20)(?:0?[13578]|1[02]))\\\\1|(?:(?:29|30)\" ~","*/","/* auto myformat = isArray(myformat) ? myformat.values: [myformat];","}","/**","* Validates a datetime value","*","* All values matching the \"date\" core validation rule, and the \"time\" one will be valid","*/","/*    static bool isValidDatetime(IDateTime value, string[] mydateFormat = \"ymd\", string regex = null)","}","*/","}","/* if (isArray(mydateFormat) && count(mydateFormat) == 1)","} */","/* if (mydateFormat == DATETIME_ISO8601 && !isValidIso8601(value))","} */","/*        if (value.isArray)","}","}","}","*/","}","/**","* Validates an iso8601 datetime format","* ISO8601 recognize datetime like 2019 as a valid date.","*/","/* static bool isValidIso8601(IDateTime value)","} */","}","/*        auto regex = \"/^([\\+-]?\\d4}(?!\\d2}\\b))((-?)((0[1-9]|1[0-2])(\\3([12]\\d|0[1-9]|3[01]))?|W([0-4]\\d|5[0-2])(-?[1-7])?|(00[1-9]|0[1-9]\\d|[12]\\d2}|3([0-5]\\d|6[1-6])))([T\\s]((([01]\\d|2[0-3])((:?)[0-5]\\d)?|24\\:?00)([\\.,]\\d+(?!:))?)?(\\17[0-5]\\d([\\.,]\\d+)?)?([zZ]|([\\+-])([01]\\d|2[0-3]):?([0-5]\\d)?)?)?)?my/\";","*/","}","/**","* Time validation, determines if the string passed is a valid time.","* Validates time as 24hr (HH:MM[:SS][.FFFFFF]) or am/pm ([H]H:MM[a|p]m)","*","* Seconds and fractional seconds (microseconds) are allowed but optional in 24hr format.","* Params:","* Json value a valid time string/object","*/","/*    static bool isValidTime(IDateTime value)","}","*/","/* if (isArray(value))","} */","/* if (!isScalar(value))","} */","/*        auto mymeridianClockRegex = \"^((0?[1-9]|1[012])(:[0-5]\\d)0,2} ?([AP]M|[ap]m))my\";","*/","}","/**","* Date and/or time string validation.","* Uses `I18n.Time` to parse the date. This means parsing is locale dependent.","*/","/* if (cast(IDateTime)dateValue)","} */","/* if (!isString(dateValue))","}","}","}","/**","* Validates if given value is truthy.","* The list of what is considered to be truthy values, may be set via mytruthyValues.","*/","/* return isIn(value, mytruthyValues, true); */","}","/**","* Validates if given value is falsey.","*","* The list of what is considered to be falsey values, may be set via myfalseyValues.","*/","/* return isIn(value, myfalseyValues, true); */","}","/**","* Checks that a value is a valid decimal. Both the sign and exponent are optional.","*","* Valid Places:","*","* - null: Any number of decimal places, including none. The \".\" is not required.","* - true: Any number of decimal places greater than 0, or a float|double. The \".\" is required.","* - 1..N: Exactly that many number of decimal places. The \".\" is required.","*/","}","/*        if (regex.isNull)","} else if (myplaces == true)","}","} else","}","}","*/ // account for localized floats.","/* auto mylocale = ini_get(\"intl.default_locale\") ?: DEFAULT_LOCALE;","// There are two types of non-breaking spaces - we inject a space to account for human input","}","/**","* Validates for an email address.","*","* Only uses getmxrr() checking for deep validation, or","* any UIM version on a non-windows distribution","*/","}","/* Generic.Files.LineLength */","// regex = regex.ifEmpty(\"/^[\\pL}0-9!#my%&\\\"*+\\/=?^_`|}~-]+(?:\\.[\\pL}0-9!#my%&\\\"*+\\/=?^_`|}~-]+)*@\" ~ _pattern[\"hostname\"] ~ \"my/ui\");","/* auto result = _check(value, regex);","}","}","}","} */","}","// Checks that the value is a valid backed enum instance or value.","/* if (","} */","/*        try","} catch (ReflectionException)","}","}","*/","/*        return (get_debug_type(value) != (string)backingType)","*/","}","// Checks that value is exactly mycomparedTo.","}","/**","* Checks that value has a valid file extension.","*","* Supports checking `\\Psr\\Http\\Message\\IUploadedFile` instances and","* and arrays with a `name` key.","*/","/*    static bool extension(IUploadedFile value, string[] validExtensions = [","}","*/","/* return false;","} */","/*    else if(isArray(value) && value.hasKey(\"name\"))","* /    }","}","*/","}","}","// Validation of an IP address.","/*        if (!isString(value))","}","}","}","}","// Checks whether the length of a string (in characters) is greater or equal to a minimal length.","/* if (!value.isScalar)","} */","}","// Checks whether the length of a string (in characters) is smaller or equal to a maximal length.","/* if (!value.isScalar)","} */","}","// Checks whether the length of a string (in bytes) is greater or equal to a minimal length.","/* if (!isScalar(value))","} */","}","// Checks whether the length of a string (in bytes) is smaller or equal to a maximal length.","}","}","// Checks that a value is a monetary amount.","// TODO auto mymoney = \"(?!0,?\\\\d)(?:\\\\d1,3}(?:([, .])\\\\d3})?(?:\\\\1\\\\d3})*|(?:\\\\d+))((?!\\\\1)[,.]\\\\d1,2})?\";","/* auto myRegex = mysymbolPosition == \"right\"","}","/**","* Validates a multiple select. Comparison is case sensitive by default.","*","* Valid Options","*","* - in: provide a list of choices that selections must be made from","* - max: maximum number of non-zero choices that can be made","* - min: minimum number of non-zero choices that can be made","*/","/* auto filteredValues = value.toArray.filter!(value => value.isNumeric).array;","}","}","}","}","}","}","});","}  */","}","// Checks if a value is numeric.","/* return value.isNumeric; */","}","// Checks if a value is a natural number.","/* regex = allowZero ? \"/^(?:0|[1-9][0-9]*)my/\" : \"/^[1-9][0-9]*my/\";","}","/**","* Validates that a number is in specified range.","*","* If lowerLimit and myupper are set, the range is inclusive.","* If they are not set, will return true if value is a","* legal finite on this platform.","*/","/* if (!value.isNumeric)","} */","/* if ((float)value != value)","}","}","}","/**","* Checks that a value is a valid URL according to https://www.w3.org/Addressing/URL/url-spec.txt","*","* The regex checks for the following component parts:","*","* - a valid, optional, scheme","* - a valid IP address OR","* a valid domain name as defined by section 2.3.1 of https://www.ietf.org/rfc/rfc1035.txt","* with an optional port number","* - an optional valid path","* - an optional query string (get parameters)","* - an optional fragment (anchor tag) as defined in RFC 3986","*/","}","/* _populateIp();","}","// Checks if a value is in a given list. Comparison is case sensitive by default.","}","/*","} else","} */","/* return isIn(to!string(value, list, true)); */","}","// Checks that a value is a valid UUID - https://tools.ietf.org/html/rfc4122","// TODO regex = \"/^[a-fA-F0-9]8}-[a-fA-F0-9]4}-[0-5][a-fA-F0-9]3}-[089aAbB][a-fA-F0-9]3}-[a-fA-F0-9]12}my/\";","/* return _check(value, regex); */","}","// Runs a regular expression match.","/* return value.isScalar && preg_match(regex, to!string(value)); */","}","// Luhn algorithm","/* if (!isScalar(value) || (int)value == 0)","}","}","}","}","/**","* Checks the mime type of a file.","*","* Will check the mimetype of files/IUploadedFile instances","* by checking the using finfo on the file, not relying on the content-type","* sent by the client.","*/","/*    static bool mimeType(Json value, string mimeType = null)","}","*/","}","/* if (!function_hasKey(\"finfo_open\"))","}","} */","// auto myfinfo = finfo_open(FILEINFO_MIME_TYPE);","// auto mimetype = myfinfo ? finfo_file(myfinfo, filename): null;","/* if (!mimetype)","}","} */","/* mimeTypes.bykKeyValue.each!(kv => mimeTypes[kv.key] = kv.value.lower);","}","// Helper for reading the file name.","}","}","/* protected static string getFilename(IUploadedFile dataWithFilename)","// Uploaded files throw exceptions on upload errors.","}","} catch (RuntimeException)","}","} */","/**","* Checks the filesize","*","* Will check the filesize of files/IUploadedFile instances","* by checking the filesize() on disk and not relying on the length","* reported by the client.","*/","/* return fileSize(value, originalEntities, Text.parseFileSize(size)); */","}","/* auto fileName = getFilename(value);","}","}","/**","* Checking for upload errors","*","* Supports checking `\\Psr\\Http\\Message\\IUploadedFile` instances and","* and arrays with a `error` key.","*/","/* if (cast(8)IUploadedFile)value)","} else if (value.isArray)","}","} else","}","}","}","/**","* Validate an uploaded file.","*","* Helps join `uploadError`, `fileSize` and `mimeType` into","* one higher level validation method.","*","* ### Options","*","* - `types` - An array of valid mime types. If empty all types","* will be accepted. The `type` will not be looked at, instead","* the file type will be checked with ext/finfo.","* - `minSize` - The minimum file size in bytes. Defaults to not checking.","* - `maxSize` - The maximum file size in bytes. Defaults to not checking.","* - `optional` - Whether this file is optional. Defaults to false.","* If true a missing file will pass the validator regardless of other constraints.","*/","/* if (!cast(IUploadedFile)uploadedFile)","} */","/* if (!uploadError(uploadedFile, options.get(\"optional\")))","}","} */","/* if (","}","}","} */","}","// Validates the size of an uploaded image.","/* throw new DInvalidArgumentException(","}","}","// [mywidth, myheight] = myimageSize;","}","/* if (options.hasKey(\"height\"))","}","} */","/* if (validHeight !is null && validWidth !is null)","}","}","} */","/* throw new DInvalidArgumentException(\"The 2nd argument is missing the `width` and / or `height` options.\"); */","}","// Validates the image width.","/* return imageSize(uploadedFile, [","}","// Validates the image height.","/* return imageSize(uploadedFile, [","}","/**","* Validates a geographic coordinate.","*","* Supported formats:","*","* - `<latitude>, <longitude>` Example: `-25.274398, 133.775136`","*","* ### Options","*","* - `type` - A string of the coordinate format, right now only `latLong`.","* - `format` - By default `both`, can be `long` and `lat` as well to validate","* only a part of the coordinate.","*/","}","/* throw new DInvalidArgumentException(","}","/* auto mypattern = \"/^\" ~ _pattern.getString(\"latitude\") ~ \",\\\\s*\" ~ _pattern.getString(\"longitude\") ~ \"my/\";","}","} */","// TODO return (bool)preg_match(mypattern, to!string(myvalue));","}","// Convenience method for latitude validation.","}","// Convenience method for longitude validation.","}","/**","* Check that the input value is within the ascii byte range.","* This method will reject all non-string values.","*/","/* if (!isString(value))","}","}","/**","* Check that the input value is a utf8 string.","*","* This method will reject all non-string values.","*","* # Options","* - `extended` - Disallow bytes higher within the basic multilingual plane.","* MySQL\"s older utf8 encoding type does not allow characters above","* the basic multilingual plane. Defaults to false.","*/","}","/* return options.hasKey(\"extended\")","}","// Check that the input value is an array.","}","/**","* Check that the input value is a scalar.","*","* This method will accept integers, floats, strings and booleans, but","* not accept arrays, objects, resources and nulls.","*/","}","/**","* Check that the input value is a 6 digits hex color.","* Params:","* Json value The value to check","*/","}","/**","* Check that the input value has a valid International Bank Account Number IBAN syntax","* Requirements are uppercase, no whitespaces, max length 34, country code and checksum exist at right spots,","* body matches against checksum via Mod97-10 algorithm","* Params:","* Json value The value to check","*/","/* if (","} */","/* auto mycountry = subString(value, 0, 2);","/* foreach (mytmp; Json[string](10, 35))","} */","/* auto mynumStr = (myaccount ~ mycountry ~ \"00\").replace(mysearch, myreplace);","/* for (mypos = 1; mypos < mynumStrLength; mypos++)","} */","/* return mycheckInt == 98 - mychecksum; */","}","/**","* Converts an array representing a date or datetime into a ISO string.","* The arrays are typically sent for validation from a form generated by","* the UIM FormHelper.","* Params:","* Json[string] myvalue The array representing a date or datetime.","*/","/* if (items.hasAllKeys(\"year\", \"month\", \"day\") && items.allNumeric(\"year\", \"month\", \"day\"))","}","/* if (isSet(items[\"meridian\"]) && (int)items[\"hour\"] == 12)","} * /","}","}","} */","}","// Lazily populate the IP address patterns used for validations","/* Generic.Files.LineLength */","/* if (_pattern.isNull(\"IPv6\"))  */","/* mypattern = \"((([0-9A-Fa-f]1,4}:)7}(([0-9A-Fa-f]1,4})|:))|(([0-9A-Fa-f]1,4}:)6}\";","}","}","}","// Reset internal variables for another validation run.","// TODO _errors = null;","}","}","}"]</td></tr><tr><td>implements:[]</td></tr><tr><td>type:class</td></tr><tr><td>library:uim-validations</td></tr></table>
                        </div>
                    </div>
                </div>
                <footer class="footer footer-transparent d-print-none">
    <div class="container-xl">
        <div
            class="row text-center align-items-center flex-row-reverse">
            <div class="col-lg-auto ms-lg-auto">
                <ul class="list-inline list-inline-dots mb-0">
                    <li class="list-inline-item"><a
                            href="https://tabler.io/docs"
                            target="_blank"
                            class="link-secondary"
                            rel="noopener">Documentation</a></li>
                    <li class="list-inline-item"><a
                            href="./license.html"
                            class="link-secondary">License</a></li>
                    <li class="list-inline-item"><a
                            href="https://github.com/tabler/tabler"
                            target="_blank"
                            class="link-secondary"
                            rel="noopener">Source code</a></li>
                    <li class="list-inline-item">
                        <a
                            href="https://github.com/sponsors/codecalm"
                            target="_blank"
                            class="link-secondary"
                            rel="noopener">
                            <!-- Download SVG icon from http://tabler-icons.io/i/heart -->
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                width="24" height="24"
                                viewBox="0 0 24 24" fill="none"
                                stroke="currentColor"
                                stroke-width="2"
                                stroke-linecap="round"
                                stroke-linejoin="round"
                                class="icon text-pink icon-filled icon-inline"><path
                                    stroke="none"
                                    d="M0 0h24v24H0z"
                                    fill="none"></path><path
                                    d="M19.5 12.572l-7.5 7.428l-7.5 -7.428a5 5 0 1 1 7.5 -6.566a5 5 0 1 1 7.5 6.572"></path></svg>
                            Sponsor
                        </a>
                    </li>
                </ul>
            </div>
            <div class="col-12 col-lg-auto mt-3 mt-lg-0">
                <ul class="list-inline list-inline-dots mb-0">
                    <li class="list-inline-item">
                        Copyright © 2017 - 2024 <a href="." class="link-secondary">UIM framework</a>. All rights reserved.
                    </li>
                    <li class="list-inline-item">
                        <a href="./changelog.html" class="link-secondary" rel="noopener">v24.09.01</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</footer>

            </div>
        </div>
        <script src="https://uimsolutions.github.io/uim/js/tabler.min.js"></script>
    </body>
</html>
