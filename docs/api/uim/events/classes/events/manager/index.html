<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>Modern Business - uim Framework</title>
        <!-- Favicon-->
        <link rel="icon" type="image/x-icon" href="https://uimsolutions.github.io/uim/assets/favicon.ico" />
        <!-- Bootstrap icons-->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="https://uimsolutions.github.io/uim/css/styles.css" rel="stylesheet" />
    </head>
    <body class="d-flex flex-column">
        <main class="flex-shrink-0">
            <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container px-5">
        <a class="navbar-brand" href="index.html">uim</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
                <li class="nav-item"><a class="nav-link" href="about.html">About</a></li>
                <li class="nav-item"><a class="nav-link" href="contact.html">Contact</a></li>
                <li class="nav-item"><a class="nav-link" href="faq.html">FAQ</a></li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" id="navbarDropdownBlog" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">Packages</a>
                    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdownBlog">
                        <li><a class="dropdown-item" href="blog-home.html">Blog Home</a></li>
                        <li><a class="dropdown-item" href="blog-post.html">Blog Post</a></li>
                    </ul>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" id="navbarDropdownBlog" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">Blog</a>
                    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdownBlog">
                        <li><a class="dropdown-item" href="blog-home.html">Blog Home</a></li>
                        <li><a class="dropdown-item" href="blog-post.html">Blog Post</a></li>
                    </ul>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" id="navbarDropdownPortfolio" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">Portfolio</a>
                    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdownPortfolio">
                        <li><a class="dropdown-item" href="portfolio-overview.html">Portfolio Overview</a></li>
                        <li><a class="dropdown-item" href="portfolio-item.html">Portfolio Item</a></li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
</nav>	

            <!-- Header-->
            <header class="py-5">
                <div class="container px-5">
                    <div class="row justify-content-center">
                        <div class="col-lg-8 col-xxl-6">
                            <div class="text-left my-5">
                                <nav aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="https://uimsolutions.github.io/uim/api/index.html">API</a></li><li class="breadcrumb-item"><a href="https://uimsolutions.github.io/uim/api/uim/index.html">uim</a></li><li class="breadcrumb-item"><a href="https://uimsolutions.github.io/uim/api/uim/events/index.html">events</a></li><li class="breadcrumb-item"><a href="https://uimsolutions.github.io/uim/api/uim/events/classes/index.html">classes</a></li><li class="breadcrumb-item"><a href="https://uimsolutions.github.io/uim/api/uim/events/classes/events/index.html">events</a></li><li class="breadcrumb-item active" aria-current="page">manager</li></ol></nav>
                                <h1 class="fw-bolder mb-3">Class DEventManager</h1>
                                <table><tr><td>filepath:C:\Users\ONS\PROJECTS2023\uim\events\uim\events\classes\events\manager.d</td></tr><tr><td>parents:["IEventManager"]</td></tr><tr><td>namespace:uim.events.classes.events.manager</td></tr><tr><td>name:DEventManager</td></tr><tr><td>content:["    // The default priority queue value for new, attached listeners","    static long _defaultPriority = 10;","    // The event list object.","    protected DEventList _eventList = null;","    // Internal flag to distinguish a common manager from the singleton","    protected bool _isGlobal = false;","    // Enables automatic adding of events to the event list object if it is present.","    protected bool _canAddEvents = false;","    // The globally available instance, used for dispatching events attached from any scope","    protected static DEventManager _generalManager = null;","    // List of listener callbacks associated to","    protected Json[string] _listeners = null;","    /**","     * Returns the globally available instance of a UIM\\Event\\EventManager","     * this is used for dispatching events attached from outside the scope","     * other managers were created. Usually for creating hook systems or inter-class","     * communication","     *","     * If called with the first parameter, it will be set as the globally available instance","     */","    static DEventManager instance(DEventManager manager = null) {","        if (_generalManager is null) {","            _generalManager = new DEventManager();","        }","        _generalManager._isGlobal = true;","        return _generalManager;","    }","    IEventManager on(IEventListener eventKey, Json[string] options = null) {","        _attachSubscriber(eventKey);","        return this;","    }","    IEventManager on(string eventKey, /* callable | */ Json[string] options = null, /* callable callable = null */","    ) {","        // TODO","        /* if (!aCallable && !isCallable(options)) {","            throw new DInvalidArgumentException(","                \"second argument of `EventManager.on()` must be a callable if `aCallable`.isNull.\"","           );","        }","        if (!aCallable) {","            /** @var callable options */","        /*        _listeners[eventKey][defaultPriority).concat( [","            \"callable\": options(...),","        ];","        return;","        }*/","        long priority = options.getLong(\"priority\", _defaultPriority);","        // TODO  _listeners[eventKey][priority].concat(\"callable\": aCallable(...)];","        return this;","    }","    /**","     * Auxiliary auto to attach all implemented callbacks of a UIM\\Event\\IEventListener class instance","     * as individual methods on this manager","     */","    protected IEventManager _attachSubscriber(IEventListener subscriber) {","        foreach (eventKey, handlers; subscriber.implementedEvents()) {","            this.on(eventKey, handler[\"settings\"], handler[\"callable\"]);","        } */","        }","        return this;","    }","    IEventManager off(IEventListener listener) {","        _detachSubscriber(listener);","        // TODO _detachSubscriber(aCallable, eventKey);","        return this;","    }","    IEventManager off(","        /* callable */","        string eventKey, /* IEventListener|callable */","        // TODO callable aCallable = null","    ) {","        /*    if (!isString(eventKey)) {","        _listeners.keys.each!(name => off(name, eventKey));","        return this;","    }"," */","        /*    if (aCallable.isNull) {","        _listeners.removeKey(eventKey);","        return this;","    } */","        /*    if (_listeners.isEmpty(eventKey)) {","        return this;","    }"," */ /*    aCallable = aCallable(...);","    foreach (_listeners[eventKey] as priority : aCallables) {","        foreach (aCallables as myKey : aCallback) {","            if (aCallback[\"callable\"] == aCallable) {","                _listeners.removePath([eventKey, priority, myKey]);","                break;","            }","        }","    }"," */","        return this;","    }","    // Auxiliary auto to help detach all listeners provided by an object implementing IEventListener","    protected void _detachSubscriber(IEventListener subscriber, string eventKey = null) {","        // TODO","        /*    events = subscriber.implementedEvents();","    if (!eventKey.isEmpty && events.isEmpty(eventKey)) {","        return;","    }","    if (!eventKey.isEmpty) {","        events = [eventKey: events[eventKey]];","    }"," */ /*    foreach (events as aKey : handlers) {","        foreach (thandler; his.normalizeHandlers(subscriber, handlers)) {","            this.off(aKey, handler[\"callable\"]);","        }","    }"," */","    }","    /**","     * Builds an array of normalized handlers.","     *","     * A normalized handler is an aray with these keys:","     *","     * - `callable` - The event handler closure","     * - `settings` - The event handler settings","     */","    protected Json[string] normalizeHandlers(IEventListener subscriber, Json[string] eventHandlers) {","        if (!eventHandlers.hasKey(\"callable\")) {","                .each!(kv => eventHandlers[kv.key] = normalizeHandler(subscriber, kv.value));"," */        }","        return eventHandlers;","    }","        // TODO return [normalizeHandler(subscriber, eventHandler)];","        return null;","    }"," */","    protected Json[string] normalizeHandlers(IEventListener subscriber, /* Closure |  */ string eventHandler) {","        // TODO return [normalizeHandler(subscriber, eventHandler)];","        return null;","    }","    /**","     * Builds a single normalized handler.","     *","     * A normalized handler is an array with these keys:","     *","     * - `callable` - The event handler closure","     * - `settings` - The event handler settings","     */","    protected Json[string] normalizeHandler(IEventListener subscriber, /* Closure|array| */ string eventHandler) {","        // auto callable = eventHandler;","        auto settings = null;","        /* if (isArray(eventHandler)) {","        // callable = eventHandler[\"callable\"];","        settings = eventHandler;","        settings.removeKey(\"callable\");","    } */","        // TODO","        /*    if (isString(aCallable)) {","        aCallable = subscriber.aCallable(...);","    }"," */","        // TODO return [\"callable\": aCallable, \"settings\": settings];","        return null;","    }","    IEvent dispatch(string eventName) {","        return dispatch(new DEvent(eventName));","    }","    IEvent dispatch(IEvent event) {","        auto listeners = listeners(event.name);","        if (_canAddEvents) {","            this.addEventToList(event);","        }","        if (!_isGlobal && instance().isTrackingEvents()) {","            instance().addEventToList(event);","        }","        if (isEmpty(listeners)) {","            return event;","        }","        /*    foreach (listener; listeners) {","        if (event.isStopped()) {","            break;","        }","        result = _callListener(listener[\"callable\"], event);","        if (result == false) {","            event.stopPropagation();","        }","        if (!result.isNull) {","            event.setResult(result);","        }","    }"," */","        return event;","    }","    // Calls a listener.","    /* protected Json _callListener(callable listenerToTrigger, IEvent event) {","    // TODO"," * /"," }"," */","    Json[string] listeners(string eventKey) {","        // TODO","        // auto localListeners = null;","        /*    if (!_isGlobal) {","        localListeners = prioritisedListeners(eventKey);","        localListeners = localListeners.isEmpty ? [] : localListeners;","    }"," * /","    auto globalListeners = instance().prioritisedListeners(eventKey);","    globalListeners = empty(globalListeners) ? [] : globalListeners;","    priorities = array_merge(globalListeners.keys, localListeners.keys).unique;","    asort(priorities);","    foreach (priorities as priority) {","        if (globalListeners.hasKey(priority)) {","            result = array_merge(result, globalListeners[priority]);","        }","        if (localListeners.hasKey(priority)) {","            result = array_merge(result, localListeners[priority]);","        }","    }","    return result;"," */","        return null;","    }","    // Returns the listeners for the specified event key indexed by priority","    Json[string] prioritisedListeners(string key) {","        // return _listeners.get(key);","        return null;","    }","    // Returns the listeners matching a specified pattern","    Json[string] matchingListeners(string patternToPattern) {","        /*    matchPattern = \"/\" ~ preg_quote(eventKeyPattern, \"/\") ~ \"/\";","    return intersectinternalKey(","        _listeners,","        array_flip(","            preg_grep(matchPattern, _listeners.keys, 0) ?  : []","    )","    );"," */","        return null;","    }","    // Returns the event list.","    DEventList getEventList() {","        return _eventList;","    }","    // Adds an event to the list if the event list object is present.","    void addEventToList(IEvent event) {","        /*    _eventList ? .add(event);"," */","    }","    // Enables / disables event tracking at runtime.","    void canAddEvents(bool enabled) {","        _canAddEvents = enabled;","    }","    // Returns whether this manager is set up to track events","    bool isTrackingEvents() {","        // TODO return _canAddEvents && _eventList;","        return false;","    }","    // Enables the listing of dispatched events.","    void eventList(DEventList eventList) {","        _eventList = eventList;","        _canAddEvents = true;","    }","    // Disables the listing of dispatched events.","    void removeEventList() {","        _eventList = null;","        _canAddEvents = false;","    }","    // Debug friendly object properties.","    Json[string] debugInfo() {","        /*    properties = get_object_vars(this);","    properties.set(\"_generalManager\", \"(object) EventManager\");","    properties.set(\"_listeners\", null);"," */ /*    foreach (_listeners as aKey : priorities) {","        listenerCount = 0;","        foreach (priorities as listeners) {","            listenerCount += count(listeners);","        }","        properties[\"_listeners\"][aKey] = listenerCount ~ \" listener(s)\";","    }"," */","        if (_eventList) {","            // TODO auto count = count(_eventList);","            /* for (index = 0; index < count; index++) {","                assert(!empty(_eventList[index]), \"Given event item not present\");","                event = _eventList[index];","                /*            try {","                subject = event.getSubject();","                properties[\"_dispatchedEvents\").concat( event.name ~ \" with subject \" ~ subject","                    .classname;","            } catch (DException) {","                properties[\"_dispatchedEvents\").concat( event.name ~ \" with no subject\";","            }","        } */","        } else {","            // properties[\"_dispatchedEvents\"] = null;","        }","        /*    properties.removeKey(\"_eventList\");","    return properties;"," */","        return null;","    }"]</td></tr><tr><td>methods:[{"isProperty":false,"parameters":["DEventManager manager = null"],"datatype":"DEventManager","name":"instance","isAbstract":false,"isInherited":false,"header":"DEventManager instance(DEventManager manager = null)","isStatic":true},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (_generalManager is null)","isStatic":false},{"isProperty":false,"parameters":["IEventListener eventKey","Json[string] options = null"],"datatype":"IEventManager","name":"on","isAbstract":false,"isInherited":false,"header":"IEventManager on(IEventListener eventKey, Json[string] options = null)","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (!aCallable)","isStatic":false},{"isProperty":false,"parameters":["IEventListener subscriber"],"datatype":"protected","name":"IEventManager _attachSubscriber","isAbstract":false,"isInherited":false,"header":"protected IEventManager _attachSubscriber(IEventListener subscriber)","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"foreach","name":"","isAbstract":false,"isInherited":false,"header":"foreach (eventKey, handlers; subscriber.implementedEvents())","isStatic":false},{"isProperty":false,"parameters":["IEventListener listener"],"datatype":"IEventManager","name":"off","isAbstract":false,"isInherited":false,"header":"IEventManager off(IEventListener listener)","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"foreach","name":"","isAbstract":false,"isInherited":false,"header":"foreach (_listeners[eventKey] as priority : aCallables)","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"foreach","name":"","isAbstract":false,"isInherited":false,"header":"foreach (aCallables as myKey : aCallback)","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (aCallback[\"callable\"] == aCallable)","isStatic":false},{"isProperty":false,"parameters":["IEventListener subscriber","string eventKey = null"],"datatype":"protected","name":"void _detachSubscriber","isAbstract":false,"isInherited":false,"header":"protected void _detachSubscriber(IEventListener subscriber, string eventKey = null)","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (!eventKey.isEmpty && events.isEmpty(eventKey))","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (!eventKey.isEmpty)","isStatic":false},{"isProperty":false,"parameters":["events as aKey : handlers"],"datatype":"*/","name":"/* foreach ","isAbstract":false,"isInherited":false,"header":"*/ /*    foreach (events as aKey : handlers)","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"foreach","name":"","isAbstract":false,"isInherited":false,"header":"foreach (thandler; his.normalizeHandlers(subscriber, handlers))","isStatic":false},{"isProperty":false,"parameters":["IEventListener subscriber","Json[string] eventHandlers"],"datatype":"protected","name":"Json[string] normalizeHandlers","isAbstract":false,"isInherited":false,"header":"protected Json[string] normalizeHandlers(IEventListener subscriber, Json[string] eventHandlers)","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (!eventHandlers.hasKey(\"callable\"))","isStatic":false},{"isProperty":false,"parameters":["IEventListener subscriber","/* Closure | */ string eventHandler"],"datatype":"protected","name":"Json[string] normalizeHandlers","isAbstract":false,"isInherited":false,"header":"protected Json[string] normalizeHandlers(IEventListener subscriber, /* Closure |  */ string eventHandler)","isStatic":false},{"isProperty":false,"parameters":["IEventListener subscriber","/* Closure|array| */ string eventHandler"],"datatype":"protected","name":"Json[string] normalizeHandler","isAbstract":false,"isInherited":false,"header":"protected Json[string] normalizeHandler(IEventListener subscriber, /* Closure|array| */ string eventHandler)","isStatic":false},{"isProperty":false,"parameters":["string eventName"],"datatype":"IEvent","name":"dispatch","isAbstract":false,"isInherited":false,"header":"IEvent dispatch(string eventName)","isStatic":false},{"isProperty":false,"parameters":["IEvent event"],"datatype":"IEvent","name":"dispatch","isAbstract":false,"isInherited":false,"header":"IEvent dispatch(IEvent event)","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (_canAddEvents)","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (!_isGlobal && instance().isTrackingEvents())","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (isEmpty(listeners))","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (event.isStopped())","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (result == false)","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (!result.isNull)","isStatic":false},{"isProperty":false,"parameters":["string eventKey"],"datatype":"Json[string]","name":"listeners","isAbstract":false,"isInherited":false,"header":"Json[string] listeners(string eventKey)","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"foreach","name":"","isAbstract":false,"isInherited":false,"header":"foreach (priorities as priority)","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (globalListeners.hasKey(priority))","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (localListeners.hasKey(priority))","isStatic":false},{"isProperty":false,"parameters":["string key"],"datatype":"Json[string]","name":"prioritisedListeners","isAbstract":false,"isInherited":false,"header":"Json[string] prioritisedListeners(string key)","isStatic":false},{"isProperty":false,"parameters":["string patternToPattern"],"datatype":"Json[string]","name":"matchingListeners","isAbstract":false,"isInherited":false,"header":"Json[string] matchingListeners(string patternToPattern)","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"DEventList","name":"getEventList","isAbstract":false,"isInherited":false,"header":"DEventList getEventList()","isStatic":false},{"isProperty":false,"parameters":["IEvent event"],"datatype":"void","name":"addEventToList","isAbstract":false,"isInherited":false,"header":"void addEventToList(IEvent event)","isStatic":false},{"isProperty":false,"parameters":["bool enabled"],"datatype":"void","name":"canAddEvents","isAbstract":false,"isInherited":false,"header":"void canAddEvents(bool enabled)","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"bool","name":"isTrackingEvents","isAbstract":false,"isInherited":false,"header":"bool isTrackingEvents()","isStatic":false},{"isProperty":false,"parameters":["DEventList eventList"],"datatype":"void","name":"eventList","isAbstract":false,"isInherited":false,"header":"void eventList(DEventList eventList)","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"void","name":"removeEventList","isAbstract":false,"isInherited":false,"header":"void removeEventList()","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"Json[string]","name":"debugInfo","isAbstract":false,"isInherited":false,"header":"Json[string] debugInfo()","isStatic":false},{"isProperty":false,"parameters":["_listeners as aKey : priorities"],"datatype":"*/","name":"/* foreach ","isAbstract":false,"isInherited":false,"header":"*/ /*    foreach (_listeners as aKey : priorities)","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"foreach","name":"","isAbstract":false,"isInherited":false,"header":"foreach (priorities as listeners)","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (_eventList)","isStatic":false}]</td></tr><tr><td>type:class</td></tr></table>
                            </div>
                        </div>
                    </div>
                </div>
            </header>
            <!-- About section one-->
            <section class="py-5 bg-light" id="scroll-target">
                <div class="container px-5 my-5">
                </div>
            </section>
        </main>
        <!-- Footer-->
        <footer class="bg-dark py-4 mt-auto">
    <div class="container px-5">
        <div class="row align-items-center justify-content-between flex-column flex-sm-row">
            <div class="col-auto"><div class="small m-0 text-white">Copyright &copy; 2015 - 2024 Ozan Nurettin Süel</div></div>
            <div class="col-auto">
                <a class="link-light small" href="#!">Privacy</a>
                <span class="text-white mx-1">&middot;</span>
                <a class="link-light small" href="#!">Terms</a>
                <span class="text-white mx-1">&middot;</span>
                <a class="link-light small" href="#!">Contact</a>
            </div>
        </div>
    </div>
</footer>
        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Core theme JS-->
        <script src="js/scripts.js"></script>
    </body>
</html>
