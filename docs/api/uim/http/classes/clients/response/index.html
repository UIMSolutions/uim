<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>Modern Business - uim Framework</title>
        <!-- Favicon-->
        <link rel="icon" type="image/x-icon" href="https://uimsolutions.github.io/uim/assets/favicon.ico" />
        <!-- Bootstrap icons-->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="https://uimsolutions.github.io/uim/css/styles.css" rel="stylesheet" />
    </head>
    <body class="d-flex flex-column">
        <main class="flex-shrink-0">
            <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container px-5">
        <a class="navbar-brand" href="index.html">uim</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
                <li class="nav-item"><a class="nav-link" href="about.html">About</a></li>
                <li class="nav-item"><a class="nav-link" href="contact.html">Contact</a></li>
                <li class="nav-item"><a class="nav-link" href="faq.html">FAQ</a></li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" id="navbarDropdownBlog" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">Packages</a>
                    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdownBlog">
                        <li><a class="dropdown-item" href="blog-home.html">Blog Home</a></li>
                        <li><a class="dropdown-item" href="blog-post.html">Blog Post</a></li>
                    </ul>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" id="navbarDropdownBlog" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">Blog</a>
                    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdownBlog">
                        <li><a class="dropdown-item" href="blog-home.html">Blog Home</a></li>
                        <li><a class="dropdown-item" href="blog-post.html">Blog Post</a></li>
                    </ul>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" id="navbarDropdownPortfolio" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">Portfolio</a>
                    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdownPortfolio">
                        <li><a class="dropdown-item" href="portfolio-overview.html">Portfolio Overview</a></li>
                        <li><a class="dropdown-item" href="portfolio-item.html">Portfolio Item</a></li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
</nav>	

            <!-- Header-->
            <header class="py-5">
                <div class="container px-5">
                    <div class="row justify-content-center">
                        <div class="col-lg-8 col-xxl-6">
                            <div class="text-left my-5">
                                <nav aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="https://uimsolutions.github.io/uim/api/index.html">API</a></li><li class="breadcrumb-item"><a href="https://uimsolutions.github.io/uim/api/uim/index.html">uim</a></li><li class="breadcrumb-item"><a href="https://uimsolutions.github.io/uim/api/uim/http/index.html">http</a></li><li class="breadcrumb-item"><a href="https://uimsolutions.github.io/uim/api/uim/http/classes/index.html">classes</a></li><li class="breadcrumb-item"><a href="https://uimsolutions.github.io/uim/api/uim/http/classes/clients/index.html">clients</a></li><li class="breadcrumb-item active" aria-current="page">response</li></ol></nav>
                                <h1 class="fw-bolder mb-3">Class DClientResponse</h1>
                                <table><tr><td>filepath:C:\Users\ONS\PROJECTS2023\uim\http\uim\http\classes\clients\response.d</td></tr><tr><td>parents:[]</td></tr><tr><td>namespace:uim.http.classes.clients.response</td></tr><tr><td>name:DClientResponse</td></tr><tr><td>content:["    mixin TMessage;","    // The status code of the response.","    protected int _statusCode = 0;","    // The reason phrase for the status code","    protected string _reasonPhrase;","    // Cookie Collection instance","    protected ICookieCollection _cookies = null;","    // Cached decoded XML data.","    protected ISimpleXMLElement _xml = null;","    // Cached decoded Json data.","    protected Json _data = null;","    this(string[] unparsedHeaders = null, string responseBody = null) {","       _parseHeaders(unparsedHeaders);","        if (getHeaderLine(\"Content-Encoding\") == \"gzip\") {","            responseBody = _decodeGzipBody(responseBody);","        }","        stream = new DStream(\"d://memory\", \"wb+\");","        stream.write(responseBody);","        stream.rewind();","        this.stream = stream;","    }","    /**","     * Uncompress a gzip response.","     *","     * Looks for gzip signatures, and if gzinflate() exists,","     * the body will be decompressed.","     * Params:","     * string abody Gzip encoded body.","     */","    protected string _decodeGzipBody(string encodedBody) {","        if (!function_hasKey(\"gzinflate\")) {","            throw new DException(\"Cannot decompress gzip response body without gzinflate()\");","        }","        auto anOffset = 0;","        // Look for gzip `signature'","        if (encodedBody.startWith(\"\\x1f\\x8b\")) {","             anOffset = 2;","        }","        // Check the format byte","        if (subString(encodedBody,  anOffset, 1) == \"\\x08\") {","            return /* (string) */gzinflate(subString(encodedBody,  anOffset + 8));","        }","        throw new DException(\"Invalid gzip response\");","    }","    /**","     * Parses headers if necessary.","     *","     * - Decodes the status code and reasonphrase.","     * - Parses and normalizes header names + values.","     */","    protected void _parseHeaders(string[] headersToParse) {","        foreach (headersToParse as aValue) {","            if (aValue.startWith(\"HTTP/\")) {","                preg_match(\"/HTTP\\/([\\d.]+) ([0-9]+)(.*)/i\", aValue, matches);","                _protocol = matches[1];","                _statusCode = to!int(matches[2]);","                _reasonPhrase = matches[3].strip;","                continue;","            }","            if (!aValue.contains(\": \")) {","                continue;","            }","            [name, aValue] = split(\": \", aValue, 2);","            aValue = aValue.strip;","            /** @Dstan-var non-empty-string aName */","            string name = name.strip;","            string normalized = name.lower;","            if (_headers.hasKey(name)) {","                _headers[name).concat( aValue;","            } else {","                _headers[name] = /* (array) */aValue;","                this.headerNames[normalized] = name;","            }","        }","    }","    /**","     * Check if the response status code was in the 2xx/3xx range","     */","    bool isOk() {","        return _statusCode >= 200 && _statusCode <= 399;","    }","    /**","     * Check if the response status code was in the 2xx range","     */","    bool isSuccess() {","        return _statusCode >= 200 && _statusCode <= 299;","    }","    /**","     * Check if the response had a redirect status code.","     */","    bool isRedirect() {","        codes = [","            STATUS_MOVED_PERMANENTLY,","            STATUS_FOUND,","            STATUS_SEE_OTHER,","            STATUS_TEMPORARY_REDIRECT,","            STATUS_PERMANENT_REDIRECT,","        ];","        return isIn(_statusCode, codes, true) &&","            getHeaderLine(\"Location\");","    }","    @property int statusCode() {","        return _statusCode;","    }","    static auto withStatus(int statusCode, string reasonPhrase = null) {","        auto newResponse = this.clone;","        newResponse.code = code;","        newResponse.reasonPhrase = reasonPhrase;","        return newResponse;","    }","    string getReasonPhrase() {","        return _reasonPhrase;","    }","    // Get the encoding if it was set.","    string getEncoding() {","        content = getHeaderLine(\"content-type\");","        if (!content) {","            return null;","        }","        preg_match(\"/charset\\s?=\\s?[\\']?([a-z0-9-_]+)[\\']?/i\", content, matches);","        if (isEmpty(matches[1])) {","            return null;","        }","        return matches[1];","    }","    // Get the all cookie data.","    Json[string] getCookies() {","        return _getCookies();","    }","    /**","     * Get the cookie collection from this response.","     *","     * This method exposes the response`s CookieCollection","     * instance allowing you to interact with cookie objects directly.","     */","    CookieCollection getCookieCollection() {","        return _buildCookieCollection();","    }","    /**","     * Get the value of a single cookie.","     * Params:","     * string aName The name of the cookie value.","     */","    string[] getCookie(string aName) {","        cookies = buildCookieCollection();","        if (!cookies.has(name)) {","            return null;","        }","        return cookies.get(name).getValue();","    }","    /**","     * Get the full data for a single cookie.","     * Params:","     * string aName The name of the cookie value.","     */","    Json[string] getCookieData(string valueName) {","        cookies = buildCookieCollection();","        if (!cookies.has(valueName)) {","            return null;","        }","        return cookies.get(valueName).toJString();","    }","    /**","     * Lazily build the CookieCollection and cookie objects from the response header","     */","    protected ICookieCollection buildCookieCollection() {","        this.cookies ??= CookieCollection.createFromHeader(getHeader(\"Set-Cookie\"));","        return _cookies;","    }","    // Property accessor for `this.cookies`","    protected Json[string] _getCookies() {","        auto result;","        this.buildCookieCollection.each!(cookie => result[cookie.name] = cookie.toJString());","        return result;","    }","    // Get the response body as string.","    string getStringBody() {","        return _getBody();","    }","    // Get the response body as Json decoded data.","    Json getJson() {","        return _getJson();","    }","    // Get the response body as Json decoded data.","    protected Json _getJson() {","        if (_Json) {","            return _Json;","        }","        return _Json = Json_decode(_getBody(), true);","    }","    // Get the response body as XML decoded data.","    SimpleXMLElement getXml() {","        return _getXml();","    }","    // Get the response body as XML decoded data.","    protected ISimpleXMLElement _getXml() {","        if (!_xml.isNull) {","            return _xml;","        }","        libxml_use_internal_errors();","        someData = simplexml_load_string(_getBody());","        if (!someData) {","            return null;","        }","       _xml = someData;","        return _xml;","    }","    // Provides magic __get() support.","    protected STRINGAA _getHeaders() {","        STRINGAA results;","        _headers.byKeyValue.each!(kv => results[kv.key] = kv.value.join(\",\"));","        return results;","    }","    // Provides magic __get() support.","    protected string _getBody() {","        _stream.rewind();","        return _stream.getContents();","    }"]</td></tr><tr><td>methods:[{"isProperty":false,"datatype":null,"name":"this","isAbstract":false,"isInherited":false,"header":"this(string[] unparsedHeaders = null, string responseBody = null)","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (getHeaderLine(\"Content-Encoding\") == \"gzip\")","isStatic":false},{"isProperty":false,"parameters":["string encodedBody"],"datatype":"protected","name":"string _decodeGzipBody","isAbstract":false,"isInherited":false,"header":"protected string _decodeGzipBody(string encodedBody)","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (!function_hasKey(\"gzinflate\"))","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (encodedBody.startWith(\"\\x1f\\x8b\"))","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (subString(encodedBody,  anOffset, 1) == \"\\x08\")","isStatic":false},{"isProperty":false,"parameters":["string[] headersToParse"],"datatype":"protected","name":"void _parseHeaders","isAbstract":false,"isInherited":false,"header":"protected void _parseHeaders(string[] headersToParse)","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"foreach","name":"","isAbstract":false,"isInherited":false,"header":"foreach (headersToParse as aValue)","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (aValue.startWith(\"HTTP/\"))","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (!aValue.contains(\": \"))","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (_headers.hasKey(name))","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"bool","name":"isOk","isAbstract":false,"isInherited":false,"header":"bool isOk()","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"bool","name":"isSuccess","isAbstract":false,"isInherited":false,"header":"bool isSuccess()","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"bool","name":"isRedirect","isAbstract":false,"isInherited":false,"header":"bool isRedirect()","isStatic":false},{"isProperty":true,"parameters":[],"datatype":"int","name":"statusCode","isAbstract":false,"isInherited":false,"header":"int statusCode()","isStatic":false},{"isProperty":false,"parameters":["int statusCode","string reasonPhrase = null"],"datatype":"auto","name":"withStatus","isAbstract":false,"isInherited":false,"header":"auto withStatus(int statusCode, string reasonPhrase = null)","isStatic":true},{"isProperty":false,"parameters":[],"datatype":"string","name":"getReasonPhrase","isAbstract":false,"isInherited":false,"header":"string getReasonPhrase()","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"string","name":"getEncoding","isAbstract":false,"isInherited":false,"header":"string getEncoding()","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (!content)","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (isEmpty(matches[1]))","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"Json[string]","name":"getCookies","isAbstract":false,"isInherited":false,"header":"Json[string] getCookies()","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"CookieCollection","name":"getCookieCollection","isAbstract":false,"isInherited":false,"header":"CookieCollection getCookieCollection()","isStatic":false},{"isProperty":false,"parameters":["string aName"],"datatype":"string[]","name":"getCookie","isAbstract":false,"isInherited":false,"header":"string[] getCookie(string aName)","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (!cookies.has(name))","isStatic":false},{"isProperty":false,"parameters":["string valueName"],"datatype":"Json[string]","name":"getCookieData","isAbstract":false,"isInherited":false,"header":"Json[string] getCookieData(string valueName)","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (!cookies.has(valueName))","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"protected","name":"ICookieCollection buildCookieCollection","isAbstract":false,"isInherited":false,"header":"protected ICookieCollection buildCookieCollection()","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"protected","name":"Json[string] _getCookies","isAbstract":false,"isInherited":false,"header":"protected Json[string] _getCookies()","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"string","name":"getStringBody","isAbstract":false,"isInherited":false,"header":"string getStringBody()","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"Json","name":"getJson","isAbstract":false,"isInherited":false,"header":"Json getJson()","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"protected","name":"Json _getJson","isAbstract":false,"isInherited":false,"header":"protected Json _getJson()","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (_Json)","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"SimpleXMLElement","name":"getXml","isAbstract":false,"isInherited":false,"header":"SimpleXMLElement getXml()","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"protected","name":"ISimpleXMLElement _getXml","isAbstract":false,"isInherited":false,"header":"protected ISimpleXMLElement _getXml()","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (!_xml.isNull)","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (!someData)","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"protected","name":"STRINGAA _getHeaders","isAbstract":false,"isInherited":false,"header":"protected STRINGAA _getHeaders()","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"protected","name":"string _getBody","isAbstract":false,"isInherited":false,"header":"protected string _getBody()","isStatic":false}]</td></tr><tr><td>type:class</td></tr></table>
                            </div>
                        </div>
                    </div>
                </div>
            </header>
            <!-- About section one-->
            <section class="py-5 bg-light" id="scroll-target">
                <div class="container px-5 my-5">
                </div>
            </section>
        </main>
        <!-- Footer-->
        <footer class="bg-dark py-4 mt-auto">
    <div class="container px-5">
        <div class="row align-items-center justify-content-between flex-column flex-sm-row">
            <div class="col-auto"><div class="small m-0 text-white">Copyright &copy; 2015 - 2024 Ozan Nurettin Süel</div></div>
            <div class="col-auto">
                <a class="link-light small" href="#!">Privacy</a>
                <span class="text-white mx-1">&middot;</span>
                <a class="link-light small" href="#!">Terms</a>
                <span class="text-white mx-1">&middot;</span>
                <a class="link-light small" href="#!">Contact</a>
            </div>
        </div>
    </div>
</footer>
        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Core theme JS-->
        <script src="js/scripts.js"></script>
    </body>
</html>
