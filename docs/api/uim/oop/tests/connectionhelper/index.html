<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>Modern Business - uim Framework</title>
        <!-- Favicon-->
        <link rel="icon" type="image/x-icon" href="https://uimsolutions.github.io/uim/assets/favicon.ico" />
        <!-- Bootstrap icons-->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="https://uimsolutions.github.io/uim/css/styles.css" rel="stylesheet" />
    </head>
    <body class="d-flex flex-column">
        <main class="flex-shrink-0">
            <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container px-5">
        <a class="navbar-brand" href="index.html">uim</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
                <li class="nav-item"><a class="nav-link" href="about.html">About</a></li>
                <li class="nav-item"><a class="nav-link" href="contact.html">Contact</a></li>
                <li class="nav-item"><a class="nav-link" href="faq.html">FAQ</a></li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" id="navbarDropdownBlog" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">Packages</a>
                    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdownBlog">
                        <li><a class="dropdown-item" href="blog-home.html">Blog Home</a></li>
                        <li><a class="dropdown-item" href="blog-post.html">Blog Post</a></li>
                    </ul>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" id="navbarDropdownBlog" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">Blog</a>
                    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdownBlog">
                        <li><a class="dropdown-item" href="blog-home.html">Blog Home</a></li>
                        <li><a class="dropdown-item" href="blog-post.html">Blog Post</a></li>
                    </ul>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" id="navbarDropdownPortfolio" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">Portfolio</a>
                    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdownPortfolio">
                        <li><a class="dropdown-item" href="portfolio-overview.html">Portfolio Overview</a></li>
                        <li><a class="dropdown-item" href="portfolio-item.html">Portfolio Item</a></li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
</nav>	

            <!-- Header-->
            <header class="py-5">
                <div class="container px-5">
                    <div class="row justify-content-center">
                        <div class="col-lg-8 col-xxl-6">
                            <div class="text-left my-5">
                                <nav aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="https://uimsolutions.github.io/uim/api/index.html">API</a></li><li class="breadcrumb-item"><a href="https://uimsolutions.github.io/uim/api/uim/index.html">uim</a></li><li class="breadcrumb-item"><a href="https://uimsolutions.github.io/uim/api/uim/oop/index.html">oop</a></li><li class="breadcrumb-item"><a href="https://uimsolutions.github.io/uim/api/uim/oop/tests/index.html">tests</a></li><li class="breadcrumb-item active" aria-current="page">connectionhelper</li></ol></nav>
                                <h1 class="fw-bolder mb-3">Class DConnectionHelper</h1>
                                <table><tr><td>filepath:C:\Users\ONS\PROJECTS2023\uim\oop\uim\oop\tests\connectionhelper.d</td></tr><tr><td>parents:[]</td></tr><tr><td>namespace:uim.oop.tests.connectionhelper</td></tr><tr><td>name:DConnectionHelper</td></tr><tr><td>content:["    /**","     * Adds `test_<connection name>` aliases for all non-test connections.","     *","     * This forces all models to use the test connection instead. For example,","     * if a model is confused to use connection `files` then it will be aliased","     * to `test_files`.","     *","     * The `default` connection is aliased to `test`.","     */","    void addTestAliases() {","        // TODO","        /*","        ConnectionManager.alias(\"test\", \"default\");","        ConnectionManager.configured()","            .filter!(connection => !(aConnection == \"test\" || aConnection == \"default\"))","            .each!(connection => ConnectionManager.alias(connection,","                str_starts_with(connection, \"test_\")","                ? subString(connection, 5) // original","                : \"test_\" ~ aConnection","           ));","        } */","    }","    /**","     * Enables query logging for all database connections.","     * Params:","     * array<int, string>|null aConnections Connection names or null for all.","     */","    void enableQueryLogging(Json[string] connections = null) {","        // TODO","        /* connections = connections.ifEmpyt(ConnectionManager.configured());","        foreach (connection; connections) {","            connection = ConnectionManager.get(connection);","            string message = \"--Starting test run \" ~ date(\"Y-m-d H:i:s\");","            if (","                cast(DConnection)connection &&","                connection.getDriver().log(message) == false","           ) {","                connection.getDriver().setLogger(new QueryLogger());","                connection.getDriver().log(message);","            }","        } */","    }","    // Drops all tables.","    // TODO","    /*","    void dropTables(string connectionName, string[] tableNames = null) {","        auto connection = ConnectionManager.get(aConnectionName);","        assert(cast(DConnection)aConnection);","        collection = connection.getSchemaCollection();","        allTables = collection.listTablesWithoutViews();","        tableNames = tableNames !is null ? intersect(tableNames, allTables): allTables;","        TableSchema[] schemas = array_map(fn (aTable) : collection.describe(aTable), tableNames);","        dialect = connection.getDriver().schemaDialect();","        schemas.each!((tableSchema) {","            dialect.dropConstraintSql(tableSchema).each!(statement => connection.execute(statement));","        });","        schemas.each!(tableSchema => dialect.dropTableSql(tableSchema).each!(statement => connection.execute(statement)));","    } */","    // Truncates all tables.","    void truncateTables(string connectionName, Json[string] tableNames = null) {","         // TODO auto connection = ConnectionManager.get(aConnectionName);","        // TODO assert(cast(DConnection)connection);","         // TODO auto collection = connection.getSchemaCollection();","         // TODO auto allTables = collection.listTablesWithoutViews();","         // TODO auto tableNames = tableNames !is null ? intersect(tableNames, allTables): allTables;","        /** @var array<\\UIM\\Database\\Schema\\TableSchema> schemas Specify type for psalm */","        // TODO schemas = array_map(fn (aTable): collection.describe(aTable), tableNames);","        /* this.runWithoutConstraints(connection, void (Connection connection) use (schemas) {","            dialect = connection.getDriver().schemaDialect();","            tableSchema.each!(schema =>","                dialect.truncateTableSql(schema)","                    .each!(statement => connection.execute(statement));","           );","        }); */","    }","    // Runs callback with constraints disabled correctly per-database","    // TODO","    /* void runWithoutConstraints(DConnection dbConnection, DClosure aCallback) {","        // TODO if (dbConnection.getDriver().supports(DriverFeatures.DISABLE_CONSTRAINT_WITHOUT_TRANSACTION)) {","        dbConnection.disableConstraints(fn (Connection configName): aCallback(configName));","        } else {","            dbConnection.transactional(void (Connection aConnection) use (aCallback) {","                dbConnection.disableConstraints(fn (Connection aConnection): aCallback(aConnection));","            });","        }","    } */"]</td></tr><tr><td>methods:[{"isProperty":false,"parameters":[],"datatype":"void","name":"addTestAliases","isAbstract":false,"isInherited":false,"header":"void addTestAliases()","isStatic":false},{"isProperty":false,"parameters":["Json[string] connections = null"],"datatype":"void","name":"enableQueryLogging","isAbstract":false,"isInherited":false,"header":"void enableQueryLogging(Json[string] connections = null)","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"foreach","name":"","isAbstract":false,"isInherited":false,"header":"foreach (connection; connections)","isStatic":false},{"isProperty":false,"parameters":["string connectionName","string[] tableNames = null"],"datatype":"void","name":"dropTables","isAbstract":false,"isInherited":false,"header":"void dropTables(string connectionName, string[] tableNames = null)","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"schemas.each!((tableSchema)","name":"","isAbstract":false,"isInherited":false,"header":"schemas.each!((tableSchema)","isStatic":false},{"isProperty":false,"parameters":["string connectionName","Json[string] tableNames = null"],"datatype":"void","name":"truncateTables","isAbstract":false,"isInherited":false,"header":"void truncateTables(string connectionName, Json[string] tableNames = null)","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"dbConnection.transactional(void","name":"","isAbstract":false,"isInherited":false,"header":"dbConnection.transactional(void (Connection aConnection) use (aCallback)","isStatic":false}]</td></tr><tr><td>type:class</td></tr></table>
                            </div>
                        </div>
                    </div>
                </div>
            </header>
            <!-- About section one-->
            <section class="py-5 bg-light" id="scroll-target">
                <div class="container px-5 my-5">
                </div>
            </section>
        </main>
        <!-- Footer-->
        <footer class="bg-dark py-4 mt-auto">
    <div class="container px-5">
        <div class="row align-items-center justify-content-between flex-column flex-sm-row">
            <div class="col-auto"><div class="small m-0 text-white">Copyright &copy; 2015 - 2024 Ozan Nurettin SÃ¼el</div></div>
            <div class="col-auto">
                <a class="link-light small" href="#!">Privacy</a>
                <span class="text-white mx-1">&middot;</span>
                <a class="link-light small" href="#!">Terms</a>
                <span class="text-white mx-1">&middot;</span>
                <a class="link-light small" href="#!">Contact</a>
            </div>
        </div>
    </div>
</footer>
        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Core theme JS-->
        <script src="js/scripts.js"></script>
    </body>
</html>
