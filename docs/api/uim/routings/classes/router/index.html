<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>Modern Business - uim Framework</title>
        <!-- Favicon-->
        <link rel="icon" type="image/x-icon" href="https://uimsolutions.github.io/uim/assets/favicon.ico" />
        <!-- Bootstrap icons-->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css" rel="stylesheet" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="https://uimsolutions.github.io/uim/css/styles.css" rel="stylesheet" />
    </head>
    <body class="d-flex flex-column">
        <main class="flex-shrink-0">
            <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container px-5">
        <a class="navbar-brand" href="index.html">uim</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
                <li class="nav-item"><a class="nav-link" href="about.html">About</a></li>
                <li class="nav-item"><a class="nav-link" href="contact.html">Contact</a></li>
                <li class="nav-item"><a class="nav-link" href="faq.html">FAQ</a></li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" id="navbarDropdownBlog" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">Packages</a>
                    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdownBlog">
                        <li><a class="dropdown-item" href="blog-home.html">Blog Home</a></li>
                        <li><a class="dropdown-item" href="blog-post.html">Blog Post</a></li>
                    </ul>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" id="navbarDropdownBlog" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">Blog</a>
                    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdownBlog">
                        <li><a class="dropdown-item" href="blog-home.html">Blog Home</a></li>
                        <li><a class="dropdown-item" href="blog-post.html">Blog Post</a></li>
                    </ul>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" id="navbarDropdownPortfolio" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">Portfolio</a>
                    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdownPortfolio">
                        <li><a class="dropdown-item" href="portfolio-overview.html">Portfolio Overview</a></li>
                        <li><a class="dropdown-item" href="portfolio-item.html">Portfolio Item</a></li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
</nav>	

            <!-- Header-->
            <header class="py-5">
                <div class="container px-5">
                    <div class="row justify-content-center">
                        <div class="col-lg-8 col-xxl-6">
                            <div class="text-left my-5">
                                <nav aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="https://uimsolutions.github.io/uim/api/index.html">API</a></li><li class="breadcrumb-item"><a href="https://uimsolutions.github.io/uim/api/uim/index.html">uim</a></li><li class="breadcrumb-item"><a href="https://uimsolutions.github.io/uim/api/uim/routings/index.html">routings</a></li><li class="breadcrumb-item"><a href="https://uimsolutions.github.io/uim/api/uim/routings/classes/index.html">classes</a></li><li class="breadcrumb-item active" aria-current="page">router</li></ol></nav>
                                <h1 class="fw-bolder mb-3">Class DRouter</h1>
                                <table><tr><td>filepath:C:\Users\ONS\PROJECTS2023\uim\routings\uim\routings\classes\router.d</td></tr><tr><td>parents:[]</td></tr><tr><td>namespace:uim.routings.classes.router</td></tr><tr><td>name:DRouter</td></tr><tr><td>content:["    // Default route class.","    // TODO protected static string _defaultRouteClass = (new DRoute).classname;","    /**","     * Contains the base string that will be applied to all generated URLs","     * For example `https://example.com`","     */","    protected static string _fullBaseUrl = null;","    // Regular expression for action names","    const string ACTION = \"index|show|add|create|edit|update|remove|del|delete|view|item\";","    // Regular expression for years","    const string YEAR = \"[12][0-9]{3}\";","    // Regular expression for months","    const string MONTH = \"0[1-9]|1[012]\";","    // Regular expression for days","    const string DAY = \"0[1-9]|[12][0-9]|3[01]\";","    // Regular expression for auto increment IDs","    const string ID = \"[0-9]+\";","    // Regular expression for UUIDs","    const string UUID = \"[A-Fa-f0-9]{8}-[A-Fa-f0-9]{4}-[A-Fa-f0-9]{4}-[A-Fa-f0-9]{4}-[A-Fa-f0-9]{12}\";","    // The route collection routes would be added to.","    protected static DRouteCollection _collection;","    // A hash of request context data.","    protected static Json[string] _requestContext = null;","    // Maintains the request object reference.","    protected static DServerRequest _request = null;","    // Get the current request object.","    static DServerRequest getRequest() {","        return _request;","    }","    // Default extensions defined with Router.extensions()","    protected static string[] _defaultExtensions = null;","    // Cache of parsed route paths","    protected static Json[string] _routePaths = null;","    /*","    // Named expressions","    protected static STRINGAA _namedExpressions = [","        \"Action\": Router.ACTION,","        \"Year\": Router.YEAR,","        \"Month\": Router.MONTH,","        \"Day\": Router.DAY,","        \"ID\": Router.ID,","        \"UUID\": Router.UUID,","    ];","    /**","     * Initial state is populated the first time reload() is called which is at the bottom","     * of this file. This is a cheat as get_class_vars() returns the value of static vars even if they","     * have changed.","     */","    protected static Json[string] _initialState = null;","    /**","     * The stack of URL filters to apply against routing URLs before passing the","     * parameters to the route collection.","     */","    protected static DClosure[] _urlFilters = null;","    // Get or set default route class.","    static string defaultRouteClass(string routeclassname = null) {","        if (routeclassname.isNull) {","            return _defaultRouteClass;","        }","        _defaultRouteClass = routeclassname;","        return null;","    }","    // Gets the named route patterns for use in config/routes.d","    static STRINGAA getNamedExpressions() {","        return _namedExpressions;","    }","    /**","     * Get the routing parameters for the request is possible.","     * Params:","     * \\UIM\\Http\\ServerRequest myrequest The request to parse request data from.","     */","    static Json[string] parseRequest(ServerRequest myrequest) {","        return _collection.parseRequest(myrequest);","    }","    /**","     * Set current request instance.","     * Params:","     * \\UIM\\Http\\ServerRequest myrequest request object.","     */","    static void setRequest(DServerRequest myrequest) {","        _request = myrequest;","        auto myuri = _request.getUri();","        /*","        _requestContext.get(\"_base\", myrequest.getAttribute(\"base\", \"\"));","        _requestContext.get(\"params\", myrequest.getAttribute(\"params\", []));","        _requestContext.get(\"_scheme\", ??= myuri.getScheme();","        _requestContext.set(\"_host\", _requestContext.get(\"_host\", myuri.getHost());","        _requestContext.set(\"_port\", _requestContext.get(\"_port\", myuri.getPort());","        */","    }","    /**","     * Reloads default Router settings. Resets all class variables and","     * removes all connected routes.","     */","    static void reload() {","        if (_initialState.isEmpty) {","            _collection = new DRouteCollection();","            _initialState = get_class_vars(class);","            return;","        }","        _initialState.byKeyValue","            .each!((kv) {","                if (kv.key != \"_initialState\" && kv.key != \"_collection\") {","                    // TODO my{kv.key} = kv.value;","                }","            });","        _collection = new DRouteCollection();","        _routePaths = null;","    }","    /**","     * Reset routes and related state.","     *","     * Similar to reload() except that this doesn\"t reset all global state,","     * as that leads to incorrect behavior in some plugin test case scenarios.","     *","     * This method will reset:","     *","     * - routes","     * - URL Filters","     * - the initialized property","     *","     * Extensions and default route classes will not be modified","     */","    static void resetRoutes() {","        _collection = new DRouteCollection();","        _urlFilters = null;","    }","    /**","     * Add a URL filter to Router.","     *","     * URL filter functions are applied to every array url provided to","     * Router.url() before the URLs are sent to the route collection.","     *","     * Callback functions should expect the following parameters:","     *","     * - `params` The URL params being processed.","     * - `myrequest` The current request.","     *","     * The URL filter auto should *always* return the params even if unmodified.","     *","     * ### Usage","     *","     * URL filters allow you to easily implement features like persistent parameters.","     *","     * ```","     * Router.addUrlFilter(function (params, myrequest) {","     * if (myrequest.getParam(\"lang\") && !params.hasKey(\"lang\")) {","     *  params[\"lang\"] = myrequest.getParam(\"lang\");","     * }","     * return params;","     * });","     * ```","     * Params:","     * \\Closure myfunction The auto to add","     */","    static void addUrlFilter(Closure myfunction) {","        _urlFilters ~= myfunction;","    }","    /**","     * Applies all the connected URL filters to the URL.","     * Params:","     * Json[string] url The URL array being modified.","     */","    protected static Json[string] _applyUrlFilters(Json[string] url) {","        myrequest = getRequest();","        _urlFilters.each!((filter) {","            try {","                url = myfilter(url, myrequest);","            } catch (Throwable exception) {","                auto reflection = new DReflectionFunction(filter);","                auto exceptionMessage =","                    \"URL filter defined in %s on line %s could not be applied. The filter failed with: %s\"","                    .format(reflection.getFileName(), reflection.getStartLine(), exception.message());","                throw new DException(exceptionMessage, to!int(exception.code()), exception);","            }","        });","        return url;","    }","    /**","     * Finds URL for specified action.","     *","     * Returns a URL pointing to a combination of controller and action.","     *","     * ### Usage","     *","     * - `Router.url(\"/posts/edit/1\");` Returns the string with the base dir prepended.","     * This usage does not use reverser routing.","     * - `Router.url([\"controller\": \"Posts\", \"action\": \"edit\"]);` Returns a URL","     * generated through reverse routing.","     * - `Router.url([\"_name\": \"custom-name\", ...]);` Returns a URL generated","     * through reverse routing. This form allows you to leverage named routes.","     *","     * There are a few \"special\" parameters that can change the final URL string that is generated","     *","     * - `_base` - Set to false to remove the base path from the generated URL. If your application","     * is not in the root directory, this can be used to generate URLs that are \"uim relative\".","     * uim relative URLs are required when using requestAction.","     * - `_scheme` - Set to create links on different schemes like `webcal` or `ftp`. Defaults","     * to the current scheme.","     * - `_host` - Set the host to use for the link. Defaults to the current host.","     * - `_port` - Set the port if you need to create links on non-standard ports.","     * - `_full` - If true output of `Router.fullBaseUrl()` will be prepended to generated URLs.","     * - `#` - Allows you to set URL hash fragments.","     * - `_https` - Set to true to convert the generated URL to https, or false to force http.","     * - `_name` - Name of route. If you have setup named routes you can use this key","     * to specify it.","     * Params:","     * \\Psr\\Http\\Message\\IUri|string[] url An array specifying any of the following:","     * \"controller\", \"action\", \"plugin\" additionally, you can provide routed","     * elements or query string parameters. If string it can be name any valid url","     * string or it can be an IUri instance.","     */","    static string url(/* IUri| */string[] url = null, bool isFull = false) {","        auto context = _requestContext;","        context.set(\"_base\", context.getString(\"_base\", \"\"));","        if (url.isEmpty) {","            string myhere = getRequest().getRequestTarget() ? getRequest().getRequestTarget() : \"/\";","            string myoutput = context.getString(\"_base\") ~ myhere;","            if (isFull) {","                myoutput = fullBaseUrl() ~ myoutput;","            }","            return myoutput;","        }","        params = [","            \"plugin\": Json(null),","            \"controller\": Json(null),","            \"action\": \"index\",","            \"_ext\": Json(null),","        ];","        if (!mycontext.isEmpty(\"params\"))) {","            params = context[\"params\"];","        }","        string myfrag;","        if (url.isArray) {","            if (url.hasKey(\"_path\")) {","                url = unwrapShortString(url);","            }","            if (url.hasKey(\"_https\")) {","                url.set(\"_scheme\", url[\"_https\"] == true ? \"https\" : \"http\");","            }","            if (url.hasKey(\"_full\") && url[\"_full\"] == true) {","                isFull = true;","            }","            if (url.hasKey(\"#\")) {","                myfrag = \"#\" ~ url[\"#\"];","            }","            url.removeKey(\"_https\", \"_full\", \"#\");","            url = _applyUrlFilters(url);","            if (!url.hasKey(\"_name\")) {","                // Copy the current action if the controller is the current one.","                if (","                    url.isEmpty(\"action\")) &&","                    (","                        url.isEmpty(\"controller\")) ||","                        params[\"controller\"] == url[\"controller\"]","                   )","               ) {","                    url.set(\"action\", params[\"action\"]);","                }","                // Keep the current prefix around if none set.","                if (isSet(params[\"prefix\"]) && !url.hasKey(\"prefix\")) {","                    url.set(\"prefix\", params[\"prefix\"]);","                }","                url += [","                    \"plugin\": params[\"plugin\"],","                    \"controller\": params[\"controller\"],","                    \"action\": \"index\",","                    \"_ext\": Json(null),","                ];","            }","            // If a full URL is requested with a scheme the host should default","            // to App.fullBaseUrl to avoid corrupt URLs","            if (isFull && isSet(url[\"_scheme\"]) && !url.hasKey(\"_host\")) {","                url.set(\"_host\", mycontext[\"_host\"]);","            }","            mycontext.set(\"params\", params);","            myoutput = _collection.match(url, mycontext);","        } else {","            url = (string)url;","            if (","                url.startsWith([\"javascript:\", \"mailto:\", \"tel:\", \"sms:\", \"#\", \"?\", \"//\"]) ||","                url.contains(\": //\")) {","                return url;","            }","            myoutput = mycontext.getString(\"_base\") ~ url;","        }","        auto myprotocol = preg_match(\"#^[a-z][a-z0-9+\\-.]*\\://#i\", myoutput);","        if (myprotocol == 0) {","            myoutput = (\"/\" ~ myoutput).replace(\"//\", \"/\");","            if (isFull) {","                myoutput = fullBaseUrl() ~ myoutput;","            }","        }","        return myoutput ~ myfrag;","    }","    /**","     * Generate URL for route path.","     *","     * Route path examples:","     * - Bookmarks.view","     * - Admin/Bookmarks.view","     * - Cms.Articles.edit","     * - Vendor/Cms.Management/Admin/Articles.view","     */","    static string pathUrl(string path, Json[string] params = [], bool isFull = false) {","        return url([\"_path\": path] + params, isFull);","    }","    /**","     * Finds URL for specified action.","     *","     * Returns a bool if the url exists","     *","     * ### Usage","     */","    static bool routehasKey(string[] url = null, bool isFull = false) {","        try {","            url(url, isFull);","            return true;","        } catch (MissingRouteException) {","            return false;","        }","    }","    /**","     * Sets the full base URL that will be used as a prefix for generating","     * fully qualified URLs for this application. If no parameters are passed,","     * the currently configured value is returned.","     *","     * ### Note:","     *","     * If you change the configuration value `App.fullBaseUrl` during runtime","     * and expect the router to produce links using the new setting, you are","     * required to call this method passing such value again.","     */","    static string fullBaseUrl(string baseUrl = null) {","        if (baseUrl.isNull && _fullBaseUrl !is null) {","            return _fullBaseUrl;","        }","        if (baseUrl !is null) {","            _fullBaseUrl = baseUrl;","            configuration.set(\"App.fullBaseUrl\", baseUrl);","        } else {","            baseUrl = configuration.getString(\"App.fullBaseUrl\");","            // If App.fullBaseUrl is empty but context is set from request through setRequest()","            if (!baseUrl && !_requestContext.isEmpty(\"_host\")) {","                baseUrl =","                    \"%s://%s\"","                    .format(_requestContext[\"_scheme\"],","                    _requestContext[\"_host\"]","               );","                if (!_requestContext.isEmpty(\"_port\")) {","                    baseUrl ~= \": \" ~ _requestContext.getString(\"_port\");","                }","                configuration.set(\"App.fullBaseUrl\", baseUrl);","                return _fullBaseUrl = baseUrl;","            }","            _fullBaseUrl = baseUrl;","        }","        auto myparts = parse_url(_fullBaseUrl);","        _requestContext = [","            \"_scheme\": myparts.get(\"scheme\"),","            \"_host\": myparts.get(\"host\"),","            \"_port\": myparts.get(\"port\"),","        ].merge(_requestContext);","        return _fullBaseUrl;","    }","    /**","     * Reverses a parsed parameter array into an array.","     *","     * Works similarly to Router.url(), but since parsed URL\"s contain additional","     * keys like \"pass\", \"_matchedRoute\" etc. those keys need to be specially","     * handled in order to reverse a params array into a string URL.","     * Params:","     * \\UIM\\Http\\ServerRequest|array params The params array or","     *   {@link \\UIM\\Http\\ServerRequest} object that needs to be reversed.","     */","    static Json[string] reverseToArray(ServerRequest|array params) {","        auto myroute = null;","        if (cast(DServerRequest)params) {","            myroute = params.getAttribute(\"route\");","            assert(myroute.isNull || cast(Route)myroute);","            myQueryString = params.queryArguments();","            params = params.getAttribute(\"params\");","            assert(isArray(params));","            params[\"?\"] = myQueryString;","        }","        auto mypass = params.getArray(\"pass\");","        auto mytemplate = params.get(\"_matchedRoute\", null);","        removeKey(","            params[\"pass\"],","            params[\"_matchedRoute\"],","            params[\"_name\"]","       );","        if (!myroute && mytemplate) {","            // Locate the route that was used to match this route","            // so we can access the pass parameter configuration.","            foreach (mymaybe; getRouteCollection().routes()) {","                if (mymaybe.template == mytemplate) {","                    myroute = mymaybe;","                    break;","                }","            }","        }","        if (myroute) {","            // If we found a route, slice off the number of passed args.","            myroutePass = myroute.options.getArray(\"pass\", null);","            mypass = mypass.slice(count(myroutePass));","        }","        return array_merge(params, mypass);","    }","    /**","     * Reverses a parsed parameter array into a string.","     *","     * Works similarly to Router.url(), but since parsed URL\"s contain additional","     * keys like \"pass\", \"_matchedRoute\" etc. those keys need to be specially","     * handled in order to reverse a params array into a string URL.","     */","    static string reverse(DServerRequest/* array */ params, bool isFull = false) {","        auto params = reverseToArray(params);","        return url(params, isFull);","    }","    /**","     * Normalizes a URL for purposes of comparison.","     *","     * Will strip the base path off and replace any double /\"s.","     * It will not unify the casing and underscoring of the input value.","     */","    static string normalize(string[] url = \"/\") {","        if (url.isArray) {","            url = url(url);","        }","        if (preg_match(\"/^[a-z\\-]+:\\/\\//\", url)) {","            return url;","        }","        auto myrequest = getRequest();","        if (myrequest) {","            baseUrl = myrequest.getAttribute(\"base\", \"\");","            if (baseUrl != \"\" && stristr(url, baseUrl)) {","                url = (string)preg_replace(\"/^\" ~ preg_quote(baseUrl, \"/\") ~ \"/\", \"\", url, 1);","            }","        }","        url = \"/\" ~ url;","        while (url.contains(\"//\")) {","            url = url.replace(\"//\", \"/\");","        }","        url = preg_replace(\"/(?:(\\/my))/\", \"\", url);","        if (isEmpty(url)) {","            return \"/\";","        }","        return url;","    }","    /**","     * Get or set valid extensions for all routes connected later.","     *","     * Instructs the router to parse out file extensions","     * from the URL. For example, http://example.com/posts.rss would yield a file","     * extension of \"rss\". The file extension itself is made available in the","     * controller as `_request.getParam(\"_ext\")`, and is used by content","     * type negotiation to automatically switch to alternate layouts and templates, and","     * load helpers corresponding to the given content, i.e. RssHelper. Switching","     * layouts and helpers requires that the chosen extension has a defined mime type","     * in `UIM\\Http\\Response`.","     *","     * A string or an array of valid extensions can be passed to this method.","     * If called without any parameters it will return current list of set extensions.","     * Params:","     * string[]|string myextensions List of extensions to be added.","     */","    static string[] extensions(string[]/* string */ myextensions = null, bool shouldMerge = true) {","        auto mycollection = _collection;","        if (myextensions.isNull) {","            return chain(_defaultExtensions, mycollection.getExtensions()).unique;","        }","        myextensions = /* (array) */myextensions;","        if (shouldMerge) {","            myextensions = array_merge(_defaultExtensions, myextensions).unique;","        }","        return _defaultExtensions = myextensions;","    }","    /**","     * Create a RouteBuilder for the provided path.","     * Params:","     * string path The path to set the builder to.","     */","    static RouteBuilder createRouteBuilder(string path, Json[string] options = null) {","        Json[string] defaults = [","            \"routeClass\": Json(defaultRouteClass()),","            \"extensions\": Json(_defaultExtensions),","        ];","        Json[string] options = options.merge(defaults);","        return new DRouteBuilder(_collection, path, [], [","            \"routeClass\": options.get(\"routeClass\"],","            \"extensions\": options.get(\"extensions\"],","        ]);","    }","    // Get the route scopes and their connected routes.","    static Route[] routes() {","        return _collection.routes();","    }","    /**","     * Get the RouteCollection inside the Router","     */","    static RouteCollection getRouteCollection() {","        return _collection;","    }","    /**","     * Set the RouteCollection inside the Router","     * Params:","     * \\UIM\\Routing\\RouteCollection myrouteCollection route collection","     */","    static void setRouteCollection(RouteCollection routeCollection) {","        _collection = routeCollection;","    }","    /**","     * Inject route defaults from `_path` key","     * Params:","     * Json[string] url Route array with `_path` key","     */","    protected static Json[string] unwrapShortString(Json[string] url) {","        foreach (aKey; [\"plugin\", \"prefix\", \"controller\", \"action\"]) {","            if (hasKey(aKey, url)) {","                throw new DInvalidArgumentException(","                    \"`aKey` cannot be used when defining route targets with a string route path.\"","               );","            }","        }","        url += parseRoutePath(url[\"_path\"]);","        url += createMap!(string, Json)","            .set(\"plugin\", false)","            .set(\"prefix\", false);","        url.removeKey(\"_path\");","        return url;","    }","    /**","     * Parse a string route path","     *","     * String examples:","     * - Bookmarks.view","     * - Admin/Bookmarks.view","     * - Cms.Articles.edit","     * - Vendor/Cms.Management/Admin/Articles.view","     * Params:","     * string url Route path in [Plugin.][Prefix/]Controller.action format","     */","    static array<string|int, string> parseRoutePath(string url) {","        if (_routePaths.haskey(url)) {","            return _routePaths[url];","        }","        auto regex = \"#^","            (?:(?<plugin>[a-z0-9]+(?:/[a-z0-9]+)*)\\.)?","            (?:(?<prefix>[a-z0-9]+(?:/[a-z0-9]+)*)/)?","            (?<controller>[a-z0-9]+)","            .","            (?<action>[a-z0-9_]+)","            (?<params>(?:/(?:[a-z][a-z0-9-_]*=)?","                (?:([a-z0-9-_=]+)|([\"\\\"][^\\\\\"\"]+[\\\\\"\"]))","           )+/?)?","            my#ix\";","        if (!preg_match(regex, url, mymatches)) {","            throw new DInvalidArgumentException(\"Could not parse a string route path `%s`.\".format(url));","        }","        auto mydefaults = [","            \"controller\": mymatches.get(\"controller\"),","            \"action\": mymatches.get(\"action\"),","        ];","        if (!mymatches.isEmpty(\"plugin\")) {","            mydefaults.set(\"plugin\", mymatches.get(\"plugin\"));","        }","        if (!mymatches.isEmpty(\"prefix\")) {","            mydefaults.set(\"prefix\", mymatches.get(\"prefix\"));","        }","        if (mymatches.hasKey(\"params\") && !mymatches.isEmpty(\"params\")) {","            string[] params = mymatches.getString(\"params\").strip(\"/\").split(\"/\");","            foreach (param; params) {","                if (param.contains(\"=\")) {","                    if (!preg_match(\"/(?<key>.+?)=(?<value>.*)/\", param, myparamMatches)) {","                        throw new DInvalidArgumentException(","                            \"Could not parse a key=value from `{param}` in route path `{url}`.\"","                       );","                    }","                    myparamKey = myparamMatches.getString(\"key\");","                    if (!preg_match(\"/^[a-zA-Z_][a-zA-Z0-9_]*my/\", myparamKey)) {","                        throw new DInvalidArgumentException(","                            \"Param key `{myparamKey}` is not valid in route path `{url}`.\"","                       );","                    }","                    mydefaults.set(myparamKey, myparamMatches.getString(\"value\").strip(`\"`));","                } else {","                    mydefaults ~= param;","                }","            }","        }","        // Only cache 200 routes per request. Beyond that we could","        // be soaking up too much memory.","        if (count(_routePaths) < 200) {","            _routePaths[url] = mydefaults;","        }","        return mydefaults;","    }"]</td></tr><tr><td>methods:[{"isProperty":false,"parameters":[],"datatype":"DServerRequest","name":"getRequest","isAbstract":false,"isInherited":false,"header":"DServerRequest getRequest()","isStatic":true},{"isProperty":false,"parameters":["string routeclassname = null"],"datatype":"string","name":"defaultRouteClass","isAbstract":false,"isInherited":false,"header":"string defaultRouteClass(string routeclassname = null)","isStatic":true},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (routeclassname.isNull)","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"STRINGAA","name":"getNamedExpressions","isAbstract":false,"isInherited":false,"header":"STRINGAA getNamedExpressions()","isStatic":true},{"isProperty":false,"parameters":["ServerRequest myrequest"],"datatype":"Json[string]","name":"parseRequest","isAbstract":false,"isInherited":false,"header":"Json[string] parseRequest(ServerRequest myrequest)","isStatic":true},{"isProperty":false,"parameters":["DServerRequest myrequest"],"datatype":"void","name":"setRequest","isAbstract":false,"isInherited":false,"header":"void setRequest(DServerRequest myrequest)","isStatic":true},{"isProperty":false,"parameters":[],"datatype":"void","name":"reload","isAbstract":false,"isInherited":false,"header":"void reload()","isStatic":true},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (_initialState.isEmpty)","isStatic":false},{"isProperty":false,"parameters":[],"datatype":".each!((kv)","name":"","isAbstract":false,"isInherited":false,"header":".each!((kv)","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (kv.key != \"_initialState\" && kv.key != \"_collection\")","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"void","name":"resetRoutes","isAbstract":false,"isInherited":false,"header":"void resetRoutes()","isStatic":true},{"isProperty":false,"parameters":["function"],"datatype":"*","name":"Router.addUrlFilter","isAbstract":false,"isInherited":false,"header":"* Router.addUrlFilter(function (params, myrequest)","isStatic":false},{"isProperty":false,"parameters":["myrequest.getParam"],"datatype":"*","name":"if ","isAbstract":false,"isInherited":false,"header":"* if (myrequest.getParam(\"lang\") && !params.hasKey(\"lang\"))","isStatic":false},{"isProperty":false,"parameters":["Closure myfunction"],"datatype":"void","name":"addUrlFilter","isAbstract":false,"isInherited":false,"header":"void addUrlFilter(Closure myfunction)","isStatic":true},{"isProperty":false,"parameters":["Json[string] url"],"datatype":"protected","name":"Json[string] _applyUrlFilters","isAbstract":false,"isInherited":false,"header":"protected Json[string] _applyUrlFilters(Json[string] url)","isStatic":true},{"isProperty":false,"parameters":[],"datatype":"_urlFilters.each!((filter)","name":"","isAbstract":false,"isInherited":false,"header":"_urlFilters.each!((filter)","isStatic":false},{"isProperty":false,"parameters":["/* IUri| */string[] url = null","bool isFull = false"],"datatype":"string","name":"url","isAbstract":false,"isInherited":false,"header":"string url(/* IUri| */string[] url = null, bool isFull = false)","isStatic":true},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (url.isEmpty)","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (isFull)","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (!mycontext.isEmpty(\"params\")))","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (url.isArray)","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (url.hasKey(\"_path\"))","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (url.hasKey(\"_https\"))","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (url.hasKey(\"_full\") && url[\"_full\"] == true)","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (url.hasKey(\"#\"))","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (!url.hasKey(\"_name\"))","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (isSet(params[\"prefix\"]) && !url.hasKey(\"prefix\"))","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (isFull && isSet(url[\"_scheme\"]) && !url.hasKey(\"_host\"))","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"url.contains(\":","name":"","isAbstract":false,"isInherited":false,"header":"url.contains(\": //\"))","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (myprotocol == 0)","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (isFull)","isStatic":false},{"isProperty":false,"parameters":["string path","Json[string] params = []","bool isFull = false"],"datatype":"string","name":"pathUrl","isAbstract":false,"isInherited":false,"header":"string pathUrl(string path, Json[string] params = [], bool isFull = false)","isStatic":true},{"isProperty":false,"parameters":["string[] url = null","bool isFull = false"],"datatype":"bool","name":"routehasKey","isAbstract":false,"isInherited":false,"header":"bool routehasKey(string[] url = null, bool isFull = false)","isStatic":true},{"isProperty":false,"parameters":["string baseUrl = null"],"datatype":"string","name":"fullBaseUrl","isAbstract":false,"isInherited":false,"header":"string fullBaseUrl(string baseUrl = null)","isStatic":true},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (baseUrl.isNull && _fullBaseUrl !is null)","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (baseUrl !is null)","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (!baseUrl && !_requestContext.isEmpty(\"_host\"))","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (!_requestContext.isEmpty(\"_port\"))","isStatic":false},{"isProperty":false,"parameters":["ServerRequest|array params"],"datatype":"Json[string]","name":"reverseToArray","isAbstract":false,"isInherited":false,"header":"Json[string] reverseToArray(ServerRequest|array params)","isStatic":true},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (cast(DServerRequest)params)","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (!myroute && mytemplate)","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"foreach","name":"","isAbstract":false,"isInherited":false,"header":"foreach (mymaybe; getRouteCollection().routes())","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (mymaybe.template == mytemplate)","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (myroute)","isStatic":false},{"isProperty":false,"parameters":["DServerRequest/* array */ params","bool isFull = false"],"datatype":"string","name":"reverse","isAbstract":false,"isInherited":false,"header":"string reverse(DServerRequest/* array */ params, bool isFull = false)","isStatic":true},{"isProperty":false,"parameters":["string[] url = \"/\""],"datatype":"string","name":"normalize","isAbstract":false,"isInherited":false,"header":"string normalize(string[] url = \"/\")","isStatic":true},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (url.isArray)","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (preg_match(\"/^[a-z\\-]+:\\/\\//\", url))","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (myrequest)","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (baseUrl != \"\" && stristr(url, baseUrl))","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"while","name":"","isAbstract":false,"isInherited":false,"header":"while (url.contains(\"//\"))","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (isEmpty(url))","isStatic":false},{"isProperty":false,"parameters":["string[]/* string */ myextensions = null","bool shouldMerge = true"],"datatype":"string[]","name":"extensions","isAbstract":false,"isInherited":false,"header":"string[] extensions(string[]/* string */ myextensions = null, bool shouldMerge = true)","isStatic":true},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (myextensions.isNull)","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (shouldMerge)","isStatic":false},{"isProperty":false,"parameters":["string path","Json[string] options = null"],"datatype":"RouteBuilder","name":"createRouteBuilder","isAbstract":false,"isInherited":false,"header":"RouteBuilder createRouteBuilder(string path, Json[string] options = null)","isStatic":true},{"isProperty":false,"parameters":[],"datatype":"Route[]","name":"routes","isAbstract":false,"isInherited":false,"header":"Route[] routes()","isStatic":true},{"isProperty":false,"parameters":[],"datatype":"RouteCollection","name":"getRouteCollection","isAbstract":false,"isInherited":false,"header":"RouteCollection getRouteCollection()","isStatic":true},{"isProperty":false,"parameters":["RouteCollection routeCollection"],"datatype":"void","name":"setRouteCollection","isAbstract":false,"isInherited":false,"header":"void setRouteCollection(RouteCollection routeCollection)","isStatic":true},{"isProperty":false,"parameters":["Json[string] url"],"datatype":"protected","name":"Json[string] unwrapShortString","isAbstract":false,"isInherited":false,"header":"protected Json[string] unwrapShortString(Json[string] url)","isStatic":true},{"isProperty":false,"parameters":[],"datatype":"foreach","name":"","isAbstract":false,"isInherited":false,"header":"foreach (aKey; [\"plugin\", \"prefix\", \"controller\", \"action\"])","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (hasKey(aKey, url))","isStatic":false},{"isProperty":false,"parameters":["string url"],"datatype":"array<string|int,","name":"string> parseRoutePath","isAbstract":false,"isInherited":false,"header":"array<string|int, string> parseRoutePath(string url)","isStatic":true},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (_routePaths.haskey(url))","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (!preg_match(regex, url, mymatches))","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (!mymatches.isEmpty(\"plugin\"))","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (!mymatches.isEmpty(\"prefix\"))","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (mymatches.hasKey(\"params\") && !mymatches.isEmpty(\"params\"))","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"foreach","name":"","isAbstract":false,"isInherited":false,"header":"foreach (param; params)","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (param.contains(\"=\"))","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (!preg_match(\"/(?<key>.+?)=(?<value>.*)/\", param, myparamMatches))","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (!preg_match(\"/^[a-zA-Z_][a-zA-Z0-9_]*my/\", myparamKey))","isStatic":false},{"isProperty":false,"parameters":[],"datatype":"if","name":"","isAbstract":false,"isInherited":false,"header":"if (count(_routePaths) < 200)","isStatic":false}]</td></tr><tr><td>type:class</td></tr></table>
                            </div>
                        </div>
                    </div>
                </div>
            </header>
            <!-- About section one-->
            <section class="py-5 bg-light" id="scroll-target">
                <div class="container px-5 my-5">
                </div>
            </section>
        </main>
        <!-- Footer-->
        <footer class="bg-dark py-4 mt-auto">
    <div class="container px-5">
        <div class="row align-items-center justify-content-between flex-column flex-sm-row">
            <div class="col-auto"><div class="small m-0 text-white">Copyright &copy; 2015 - 2024 Ozan Nurettin Süel</div></div>
            <div class="col-auto">
                <a class="link-light small" href="#!">Privacy</a>
                <span class="text-white mx-1">&middot;</span>
                <a class="link-light small" href="#!">Terms</a>
                <span class="text-white mx-1">&middot;</span>
                <a class="link-light small" href="#!">Contact</a>
            </div>
        </div>
    </div>
</footer>
        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Core theme JS-->
        <script src="js/scripts.js"></script>
    </body>
</html>
